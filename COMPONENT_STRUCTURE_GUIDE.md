# Component Structure Guide

## Overview

This guide explains our component organization strategy that separates shadcn and custom components for better maintainability and update safety.

## Directory Structure

```
components/
├── ui/                    # shadcn/ui base components
│   ├── button.tsx        # Standard shadcn components
│   ├── card.tsx          # (safe to update via shadcn CLI)
│   ├── input.tsx
│   └── ...
├── custom/               # Custom business components
│   ├── custom-avatar.tsx # Custom avatar with generation
│   ├── sherry-badge.tsx  # Brand-specific badge variants
│   ├── verification-badge.tsx # Business logic component
│   └── index.ts          # Export all custom components
├── layout-content.tsx    # Layout wrapper component
├── sidebar.tsx          # Navigation component
├── theme-provider.tsx   # Theme context
└── ...
```

## Component Categories

### 1. **shadcn/ui Components** (`/components/ui/`)
- **Purpose**: Standard, reusable UI primitives
- **Source**: Generated by shadcn/ui CLI
- **Updates**: Safe to update via `npx shadcn@latest add [component]`
- **Examples**: Button, Card, Input, Dialog, etc.

### 2. **Custom Components** (`/components/custom/`)
- **Purpose**: Business-specific components with custom logic
- **Source**: Built by your team
- **Updates**: Your responsibility
- **Examples**: CustomAvatar, SherryBadge, VerificationBadge

### 3. **Layout Components** (`/components/`)
- **Purpose**: Page structure and navigation
- **Source**: Built by your team
- **Examples**: LayoutContent, Sidebar, ThemeProvider

## Import Patterns

### Standard shadcn components:
```typescript
import { Button } from "@/components/ui/button"
import { Card } from "@/components/ui/card"
```

### Custom components:
```typescript
import { CustomAvatar } from "@/components/custom/custom-avatar"
import { SherryBadge } from "@/components/custom/sherry-badge"
// Or use the index file:
import { CustomAvatar, SherryBadge } from "@/components/custom"
```

## Best Practices

### ✅ Do's

1. **Keep shadcn components clean**: Don't modify `/components/ui/` files directly
2. **Extend, don't modify**: Create custom components that extend shadcn components
3. **Use composition**: Build custom components using shadcn primitives
4. **Maintain separation**: Keep business logic out of UI components

### ❌ Don'ts

1. **Don't modify shadcn components**: Changes will be lost on updates
2. **Don't mix concerns**: Keep UI and business logic separate
3. **Don't duplicate functionality**: Extend existing components instead

## Creating Custom Components

### Example: Extending a shadcn component

```typescript
// components/custom/sherry-badge.tsx
import { Badge } from "@/components/ui/badge"
import { cva, type VariantProps } from "class-variance-authority"

const sherryBadgeVariants = cva(
  "base-styles",
  {
    variants: {
      variant: {
        sherryfluor: "bg-sherryfluor-600 text-sherryfluor-50",
        sherrypurple: "bg-sherrypurple-600 text-sherrypurple-50",
      },
    },
  }
)

interface SherryBadgeProps extends React.HTMLAttributes<HTMLSpanElement> {
  variant?: VariantProps<typeof sherryBadgeVariants>["variant"]
}

export function SherryBadge({ variant, className, ...props }: SherryBadgeProps) {
  return (
    <span className={cn(sherryBadgeVariants({ variant }), className)} {...props} />
  )
}
```

### Example: Custom business component

```typescript
// components/custom/verification-badge.tsx
import { Badge } from "@/components/ui/badge"
import { BadgeCheck, X } from "lucide-react"

interface VerificationBadgeProps {
  status: "verified" | "not-verified"
  showIcon?: boolean
}

export function VerificationBadge({ status, showIcon = true }: VerificationBadgeProps) {
  return (
    <Badge variant={status === "verified" ? "default" : "secondary"}>
      {showIcon && (status === "verified" ? <BadgeCheck /> : <X />)}
      {status}
    </Badge>
  )
}
```

## Migration Strategy

When moving from mixed components to this structure:

1. **Identify custom components**: Look for business logic, brand-specific styling
2. **Move to `/custom/`**: Relocate custom components
3. **Update imports**: Change import paths throughout the codebase
4. **Clean shadcn components**: Remove custom variants from base components
5. **Test thoroughly**: Ensure all components work as expected

## Benefits

1. **Update Safety**: shadcn updates won't overwrite customizations
2. **Clear Ownership**: Team knows what they're responsible for
3. **Better Organization**: Logical separation of concerns
4. **Easier Maintenance**: Clear boundaries between standard and custom code
5. **Team Onboarding**: New developers understand the structure quickly

## Configuration

The `components.json` file includes aliases for easy imports:

```json
{
  "aliases": {
    "components": "@/components",
    "ui": "@/components/ui",
    "custom": "@/components/custom"
  }
}
```

This structure ensures your component library remains maintainable, updatable, and well-organized as your project grows. 